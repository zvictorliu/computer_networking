---
title: IPv4
type: docs
weight: 2
---

# IPv4

IP协议定义IP分组和其数据格式

一个IP分组的格式为：首部+数据

首部中的重要字段：版本，长度，，，，

当IP数据报较长超过链路层的MTU时，将其分为多个小IP数据报，称为`片`，在目的地被重新组装（具体是通过标识号来确定属于同一个IP数据报下）

IP地址：每台主机或路由器都分配一个，32位

由网络号+主机号

有些特殊的IP地址



## 网络地址转换NAT

讲专用网络地址转换为共用地址，专用网只占一个全球IP地址

局域网LAN的私有IP地址，私有IP地址是可重用的

NAT路由器的地址是global的，不同端口映射到局域网内不同私有IP地址

所以在互联网上的人是不知道局域网的构成的，保存在NAT路由器上面

## 子网

三级IP地址结构：网络号:子网号:主机号

子网掩码