---
title: 第四章 网络层
type: docs
weight: 4
---

# 网络层

网络互联：两个以上不同的计网系统合并成大网络，通过中继设备（路由器）连接

使用相同的IP协议，使得异构性隐藏

网络层将分组从源主机经过 多个网络和多端链路传输到目的主机 

所以它是考虑的异构网际间的问题

- 路由选择：
  - 路由表维护
- 分组转发
  - 转发表（由路由表得来）

采用无连接的数据报方式

异构网络的接入机制，差错控制，路由选择，寻址方案等都不同



给因特网上的每一台主机上的每一个接口分配一个标识符，即IP地址

IPv4已经用完，现在是IPv6

## 转发分组的过程

判断是否在同一网络（网内发送）：比较网络号

网际交付时，有一个默认网关，首先发送到这个路由器当中

路由器收到数据报之后：

- 检测首部是否出错
- 查抄路由表匹配的条目发送到下一跳中
  - 匹配目的网络号（地址掩码相与）

网内才可以广播，网外的路由器会屏蔽广播

<img src="https://cdn.jsdelivr.net/gh/zvictorliu/typoraPics@main/img/image-20230623212502320.png" alt="image-20230623212502320" style="zoom:50%;" />

